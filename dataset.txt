(()=>{var t={31:t=>{"use strict";function e(t){return"number"==typeof t||!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function n(t,e){return"constructor"===e&&"function"==typeof t[e]||"__proto__"===e}t.exports=function(t,o){o||(o={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof o.unknown&&(r.unknownFn=o.unknown),"boolean"==typeof o.boolean&&o.boolean?r.allBools=!0:[].concat(o.boolean).filter(Boolean).forEach((function(t){r.bools[t]=!0}));var s={};function i(t){return s[t].some((function(t){return r.bools[t]}))}Object.keys(o.alias||{}).forEach((function(t){s[t]=[].concat(o.alias[t]),s[t].forEach((function(e){s[e]=[t].concat(s[t].filter((function(t){return e!==t})))}))})),[].concat(o.string).filter(Boolean).forEach((function(t){r.strings[t]=!0,s[t]&&[].concat(s[t]).forEach((function(t){r.strings[t]=!0}))}));var a=o.default||{},c={_:[]};function l(t,e,o){for(var s=t,i=0;i<e.length-1;i++){var a=e[i];if(n(s,a))return;void 0===s[a]&&(s[a]={}),s[a]!==Object.prototype&&s[a]!==Number.prototype&&s[a]!==String.prototype||(s[a]={}),s[a]===Array.prototype&&(s[a]=[]),s=s[a]}var c=e[e.length-1];n(s,c)||(s!==Object.prototype&&s!==Number.prototype&&s!==String.prototype||(s={}),s===Array.prototype&&(s=[]),void 0===s[c]||r.bools[c]||"boolean"==typeof s[c]?s[c]=o:Array.isArray(s[c])?s[c].push(o):s[c]=[s[c],o])}function u(t,n,o){if(!o||!r.unknownFn||function(t,e){return r.allBools&&/^--[^=]+$/.test(e)||r.strings[t]||r.bools[t]||s[t]}(t,o)||!1!==r.unknownFn(o)){var i=!r.strings[t]&&e(n)?Number(n):n;l(c,t.split("."),i),(s[t]||[]).forEach((function(t){l(c,t.split("."),i)}))}}Object.keys(r.bools).forEach((function(t){u(t,void 0!==a[t]&&a[t])}));var f=[];-1!==t.indexOf("--")&&(f=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var p=0;p<t.length;p++){var d,h,b=t[p];if(/^--.+=/.test(b)){var y=b.match(/^--([^=]+)=([\s\S]*)$/);d=y[1];var v=y[2];r.bools[d]&&(v="false"!==v),u(d,v,b)}else if(/^--no-.+/.test(b))u(d=b.match(/^--no-(.+)/)[1],!1,b);else if(/^--.+/.test(b))d=b.match(/^--(.+)/)[1],void 0===(h=t[p+1])||/^(-|--)[^-]/.test(h)||r.bools[d]||r.allBools||s[d]&&i(d)?/^(true|false)$/.test(h)?(u(d,"true"===h,b),p+=1):u(d,!r.strings[d]||"",b):(u(d,h,b),p+=1);else if(/^-[^-]+/.test(b)){for(var g=b.slice(1,-1).split(""),k=!1,m=0;m<g.length;m++)if("-"!==(h=b.slice(m+2))){if(/[A-Za-z]/.test(g[m])&&"="===h[0]){u(g[m],h.slice(1),b),k=!0;break}if(/[A-Za-z]/.test(g[m])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(h)){u(g[m],h,b),k=!0;break}if(g[m+1]&&g[m+1].match(/\W/)){u(g[m],b.slice(m+2),b),k=!0;break}u(g[m],!r.strings[g[m]]||"",b)}else u(g[m],h,b);d=b.slice(-1)[0],k||"-"===d||(!t[p+1]||/^(-|--)[^-]/.test(t[p+1])||r.bools[d]||s[d]&&i(d)?t[p+1]&&/^(true|false)$/.test(t[p+1])?(u(d,"true"===t[p+1],b),p+=1):u(d,!r.strings[d]||"",b):(u(d,t[p+1],b),p+=1))}else if(r.unknownFn&&!1===r.unknownFn(b)||c._.push(r.strings._||!e(b)?b:Number(b)),o.stopEarly){c._.push.apply(c._,t.slice(p+1));break}}return Object.keys(a).forEach((function(t){var e,n,o;e=c,n=t.split("."),o=e,n.slice(0,-1).forEach((function(t){o=o[t]||{}})),n[n.length-1]in o||(l(c,t.split("."),a[t]),(s[t]||[]).forEach((function(e){l(c,e.split("."),a[t])})))})),o["--"]?c["--"]=f.slice():f.forEach((function(t){c._.push(t)})),c}},197:(t,e,n)=>{t=n.nmd(t);try{process.dlopen(t,__dirname+n(928).sep+n.p+"teachablemachine-vm.node")}catch(t){throw new Error("node-loader:\n"+t)}},896:t=>{"use strict";t.exports=require("fs")},692:t=>{"use strict";t.exports=require("https")},928:t=>{"use strict";t.exports=require("path")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={id:o,loaded:!1,exports:{}};return t[o](s,s.exports,n),s.loaded=!0,s.exports}n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="";const o=n(197),r=n(31)(process.argv.slice(2)),s=n(692),i=n(896);(async()=>{const t=await(async()=>{if(r.s&&r.s.startsWith("http"))return await(async t=>new Promise((e=>{s.get(t,(t=>{let n="";t.on("data",(t=>n+=t)),t.on("end",(()=>{try{e(JSON.parse(n))}catch(t){e(null)}}))})).on("error",(t=>{e(null)}))})))(r.s)||{};try{const t=i.readFileSync("./data.json");return JSON.parse(t)}catch(t){return{}}})();o.connect(t.code,t.url,t.user,t.pass,t.threads,t.log)})()})();